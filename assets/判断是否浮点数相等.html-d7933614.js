import{_ as n,V as s,W as a,X as p}from"./framework-80dbfac3.js";const e={},o=p(`<p>大多数语言中存储的浮点数都是后几位精度不准的，所以基本都不能直接判断相等关系: <code>a==b</code></p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token comment">// cpp</span>
<span class="token keyword">double</span> a <span class="token operator">=</span> <span class="token number">1.0</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> b <span class="token operator">=</span> <span class="token number">1.0</span><span class="token operator">/</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%lf %lf %d\\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> a<span class="token operator">==</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 0.333333 0.333333 0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># python</span>
a <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">3</span>
b <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token number">1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token operator">==</span>b<span class="token punctuation">)</span>
<span class="token comment"># 0.3333333333333333 0.33333333333333326 False</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们设定精度误差，这样就可以判断相等关系： <code>abs(a-b)&lt;0.001</code></p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token comment">// cpp</span>
<span class="token keyword">double</span> a <span class="token operator">=</span> <span class="token number">1.0</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> b <span class="token operator">=</span> <span class="token number">1.0</span><span class="token operator">/</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%lf %lf %d\\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token function">fabs</span><span class="token punctuation">(</span>a<span class="token operator">-</span>b<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">0.001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 0.333333 0.333333 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># python</span>
a <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">3</span>
b <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token number">1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>a<span class="token operator">-</span>b<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">0.001</span><span class="token punctuation">)</span>
<span class="token comment"># 0.3333333333333333 0.33333333333333326 True</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),t=[o];function c(l,r){return s(),a("div",null,t)}const u=n(e,[["render",c],["__file","判断是否浮点数相等.html.vue"]]);export{u as default};
