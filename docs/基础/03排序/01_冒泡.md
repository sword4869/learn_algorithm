[toc]

## åŸºç¡€ç‰ˆ

![](https://cdn.jsdelivr.net/gh/sword4869/pic1@main/images/202407112137351.gif)



* æ¯è½®å†’æ³¡ä¸æ–­åœ°æ¯”è¾ƒ**ç›¸é‚»**çš„ä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœå®ƒä»¬æ˜¯é€†åºçš„ï¼Œåˆ™äº¤æ¢å®ƒä»¬çš„ä½ç½®
* ä¸‹ä¸€è½®å†’æ³¡ï¼Œå¯ä»¥è°ƒæ•´æœªæ’åºçš„å³è¾¹ç•Œï¼Œå‡å°‘ä¸å¿…è¦æ¯”è¾ƒ

![å†’æ³¡æ’åºæµç¨‹](https://www.hello-algo.com/chapter_sorting/bubble_sort.assets/bubble_sort_overview.png)

![alt text](https://cdn.jsdelivr.net/gh/sword4869/pic1@main/images/202406201437403.png)
```java
// 912. æ’åºæ•°ç»„
public int[] sortArray(int[] nums) {
    int n = nums.length;
    for(int i = n - 1; i > 0; i--){
        for(int j = 0; j < i; j++){
            if(nums[j] > nums[j+1]){
                swap(nums, j, j+1);
            }
        }
    }
    return nums;
}

æ¯”è¾ƒjå’Œj+1
åˆ™jçš„èŒƒå›´æ˜¯[0...n-2], ..., [0]ã€‚
è€Œj<i, é‚£ä¹ˆiçš„èŒƒå›´[n-1...1] è‡ªå‡ã€‚
```
## ğŸš€æ”¹è¿›ç‰ˆï¼šè®°å½•å¾…æ’åºæ•°ç»„è¾¹ç•Œ

ç”¨`x`è®°å½•æœ€åä¸€æ¬¡äº¤æ¢çš„ä½ç½® `j`ï¼ˆæ¯è½®ç»“æŸ[0, x]æœªæ’åºã€[x+1, n-1]å·²æ’åºï¼‰

- è¦ä¹ˆæ˜¯`j < i`,  æ’åºèŒƒå›´æ˜¯ [0, i]ï¼Œåˆ™ `i = x` 
- è¦ä¹ˆæ˜¯`j <= i`ï¼Œæ’åºèŒƒå›´æ˜¯[0, i + 1]ï¼Œåˆ™`i = x - 1`

![alt text](https://cdn.jsdelivr.net/gh/sword4869/pic1@main/images/202406201437851.png)
```java
public int[] sortArray(int[] nums) {
    int n = nums.length;
    for(int i = n - 1; i > 0;){				// ä¸å†™ i--
        int x = 0;							// ã€æ³¨æ„ä¸ç¡ int x = iï¼Œè€Œæ˜¯0ï¼ï¼ã€‘
        for(int j = 0; j < i; j++){
            if(nums[j] > nums[j+1]){
                swap(nums, j , j+1);
                x = j;
            }
        }
        i = x;		// <<<<<<<<<
    }
    return nums;
}


public int[] sortArray(int[] nums) {
    int n = nums.length;
    for (int i = n - 2; i >= 0;) {
        int x = 0;
        for (int j = 0; j <= i; j++) {
            if (nums[j] > nums[j + 1]) {
                swap(nums, j, j + 1);
                x = j;
            }
        }
        i = x - 1;		// <<<<<<<<<
    }
    return nums;
}
```
## æ—¶é—´å¤æ‚åº¦

ä¼˜åŒ–å’Œä¸ä¼˜åŒ–ï¼Œå¹³å‡éƒ½æ˜¯O(n^2)ï¼Œåªæ˜¯æœ€å¥½å¯ä»¥æ˜¯O(n)

## ç®—æ³•ç‰¹æ€§

- **æ—¶é—´å¤æ‚åº¦ä¸º $O(n^2)$ã€è‡ªé€‚åº”æ’åº**ï¼šå„è½®â€œå†’æ³¡â€éå†çš„æ•°ç»„é•¿åº¦ä¾æ¬¡ä¸º $n - 1$ã€$n - 2$ã€$\dots$ã€$2$ã€$1$ ï¼Œæ€»å’Œä¸º $(n - 1) n / 2$ ã€‚åœ¨å¼•å…¥ `flag` ä¼˜åŒ–åï¼Œæœ€ä½³æ—¶é—´å¤æ‚åº¦å¯è¾¾åˆ° $O(n)$ ã€‚
- **ç©ºé—´å¤æ‚åº¦ä¸º $O(1)$ã€åŸåœ°æ’åº**ï¼šæŒ‡é’ˆ $i$ å’Œ $j$ ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚
- **ç¨³å®šæ’åº**ï¼šç”±äºåœ¨â€œå†’æ³¡â€ä¸­é‡åˆ°ç›¸ç­‰å…ƒç´ ä¸äº¤æ¢ã€‚
