
## åŸºç¡€ç‰ˆ

* æ¯è½®å†’æ³¡ä¸æ–­åœ°æ¯”è¾ƒ**ç›¸é‚»**çš„ä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœå®ƒä»¬æ˜¯é€†åºçš„ï¼Œåˆ™äº¤æ¢å®ƒä»¬çš„ä½ç½®
* ä¸‹ä¸€è½®å†’æ³¡ï¼Œå¯ä»¥è°ƒæ•´æœªæ’åºçš„å³è¾¹ç•Œï¼Œå‡å°‘ä¸å¿…è¦æ¯”è¾ƒ

![å†’æ³¡æ’åºæµç¨‹](https://www.hello-algo.com/chapter_sorting/bubble_sort.assets/bubble_sort_overview.png)

![alt text](https://cdn.jsdelivr.net/gh/sword4869/pic1@main/images/202406201437403.png)
```java
// 912. æ’åºæ•°ç»„
public int[] sortArray(int[] nums) {
    for(int i = nums.length - 1; i >= 1; i--){
        for(int j = 0; j < i; j++){
            if(nums[j] > nums[j+1]){
                swap(nums, j, j+1);
            }
        }
    }
    return nums;
}

æ¯”è¾ƒjå’Œj+1
åˆ™jçš„èŒƒå›´æ˜¯[0...n-2], ..., [0]ã€‚
è€Œj<i, é‚£ä¹ˆiçš„èŒƒå›´[n-1...1] è‡ªå‡ã€‚
```
```java
// é€’å½’
public int[] sortArray(int[] nums) {
    sort(nums, nums.length - 1);
    return nums;
}

public void sort(int[] nums, int i) {
    if (i < 1) {
        return;
    }
    for (int j = 0; j < i; j++) {
        if (nums[j] > nums[j + 1]) {
            swap(nums, j, j + 1);
        }
    }
    sort(nums, i - 1);
}
```
## ğŸš€æ”¹è¿›ç‰ˆï¼šè®°å½•å¾…æ’åºæ•°ç»„è¾¹ç•Œ

- ç”¨`x`è®°å½•æœ€åä¸€æ¬¡äº¤æ¢çš„ä½ç½® `j`ï¼Œæ¯è½®ç»“æŸ`[0...x]`æ˜¯å¾…æ’åºéƒ¨åˆ†, `[x+1, n-1]`æ˜¯å·²æ’åºï¼ˆæœ€åä¸€æ¬¡äº¤æ¢åï¼Œåªæ˜¯x+1ä¸€å®šæ˜¯å¤§çš„ï¼Œxè¿˜å¯èƒ½æ¯”ä¹‹å‰çš„å°ï¼‰
- è®©ä¸‹ä¸€è½®çš„ `i = x` ï¼ˆ`[0...i]`æ˜¯å¾…æ’åºéƒ¨åˆ†ï¼‰

![alt text](https://cdn.jsdelivr.net/gh/sword4869/pic1@main/images/202406201437851.png)
```java
public int[] sortArray(int[] nums) {
    // è®©ä¸‹ä¸€è½®çš„ `i = x`
    for(int i = nums.length - 1; i >= 1;){
        int x = 0;		// ç­‰äº0ï¼Œåˆ™ç›´æ¥é€€å‡ºforå¾ªç¯
        for(int j = 0 ; j < i; j++){
            if(nums[j] > nums[j+1]){
                swap(nums, j , j+1);
                x = j;
            }
        }
        i = x;
    }
    return nums;
}
```
```java
public int[] sortArray(int[] nums) {
    sort(nums, nums.length - 1);
    return nums;
}

public void sort(int[] nums, int i) {
    if (i < 1) {
        return;
    }
    int x = 0;
    for (int j = 0; j < i; j++) {
        if (nums[j] > nums[j + 1]) {
            swap(nums, j, j + 1);
            x = j;
        }
    }
    sort(nums, x);
}
```

## æ—¶é—´å¤æ‚åº¦

## ç®—æ³•ç‰¹æ€§

- **æ—¶é—´å¤æ‚åº¦ä¸º $O(n^2)$ã€è‡ªé€‚åº”æ’åº**ï¼šå„è½®â€œå†’æ³¡â€éå†çš„æ•°ç»„é•¿åº¦ä¾æ¬¡ä¸º $n - 1$ã€$n - 2$ã€$\dots$ã€$2$ã€$1$ ï¼Œæ€»å’Œä¸º $(n - 1) n / 2$ ã€‚åœ¨å¼•å…¥ `flag` ä¼˜åŒ–åï¼Œæœ€ä½³æ—¶é—´å¤æ‚åº¦å¯è¾¾åˆ° $O(n)$ ã€‚
- **ç©ºé—´å¤æ‚åº¦ä¸º $O(1)$ã€åŸåœ°æ’åº**ï¼šæŒ‡é’ˆ $i$ å’Œ $j$ ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚
- **ç¨³å®šæ’åº**ï¼šç”±äºåœ¨â€œå†’æ³¡â€ä¸­é‡åˆ°ç›¸ç­‰å…ƒç´ ä¸äº¤æ¢ã€‚
