[toc]

## ğŸš€åŒæŒ‡é’ˆï¼šæœ€èƒ½è®°ä½çš„

![image-20240921093636233](https://cdn.jsdelivr.net/gh/sword4869/pic1@main/images/202409210936314.png)

å¾…æ’åºæ•°ç»„ï¼š`[i...j]`

åˆ†åŒºï¼š

â€‹	ç¬¬ä¸€ä¸ªé€‰æ‹©ä¸ºå“¨å…µã€‚å“¨å…µå³è¾¹éƒ½æ˜¯å¤§äºç­‰äºï¼Œå·¦è¾¹éƒ½æ˜¯å°äºç­‰äºã€‚
â€‹	iå’Œjè¡¨ç¤ºç©ºç¼ºä½ï¼Œå¼€å§‹`nums[i]`æ˜¯ç©ºç¼ºä½

```java
// 912. æ’åºæ•°ç»„
class Solution {
    public int[] sortArray(int[] nums) {
        int n = nums.length;
        quickSort(nums, 0, n - 1);
        return nums;
    }

    public void quickSort(int[] nums, int l, int r) {
        if (l < r) {			// i==j åªæœ‰ä¸€ä¸ªåˆ™ä¸æ’åºã€‚
            int i = l, j = r;			// iå’Œjè¡¨ç¤ºç©ºç¼ºä½ï¼Œå¼€å§‹nums[i]æ˜¯ç©ºç¼ºä½
            int base = nums[i];			// ç¬¬ä¸€ä¸ªé€‰æ‹©ä¸ºå“¨å…µã€‚
            while (i < j) {
                // jï¼šæ‰¾åˆ°å³è¾¹ä¸è¯¥å­˜åœ¨çš„[å°äºç­‰äº]å…ƒç´ 
                while (i < j && nums[j] >= base) {	   	
                    j--;
                }
                if (i < j) {		
                    nums[i] = nums[j];					// æ‹¿jå¡«è¡¥ç©ºç¼º i
                }
				
                // iï¼šæ‰¾åˆ°å·¦è¾¹ä¸è¯¥å­˜åœ¨çš„[å¤§äºç­‰äº]å…ƒç´ 
                while (i < j && nums[i] <= base) {		
                    i++;
                }
                if (i < j) {
                    nums[j] = nums[i];					// æ‹¿iå¡«è¡¥ç©ºç¼ºj
                }
            }
            nums[i] = base;			// æœ€åi==j, å¡«è¡¥æœ€åˆçš„å“¨å…µå€¼
            // å“¨å…µä½ç½®å›ºå®šï¼Œä¸å‚ä¸æ’åº
            quickSort(nums, l, i - 1);
            quickSort(nums, i + 1, r);
        }
    }
}
```

## æ—¶é—´å¤æ‚åº¦

æœ€å¥½ã€å¹³å‡ï¼šO(n logn)ã€‚

â€‹	æ¯è½®éƒ½æ˜¯ä¸€åˆ†ä¸ºäºŒï¼Œé‚£ä¹ˆè½®æ•°æ˜¯lognã€‚

æœ€åï¼šO(n^2)

â€‹	å€’åºæ•°ç»„ã€‚é‚£ä¹ˆæ¯è½®å“¨å…µåˆ’åˆ†æ“ä½œéƒ½å°†é•¿åº¦ä¸º k çš„æ•°ç»„åˆ’åˆ†ä¸ºé•¿åº¦ 1 å’Œ kâˆ’1 ä¸¤ä¸ªå­æ•°ç»„ã€‚é‚£ä¹ˆè½®æ•°æ˜¯ n



## ç®—æ³•ç‰¹æ€§

- **æ—¶é—´å¤æ‚åº¦ä¸º $O(n \log n)$ã€éè‡ªé€‚åº”æ’åº**ï¼š

  æœ€å¥½ã€å¹³å‡ï¼šO(nlogn)ã€‚

  â€‹	åœ¨å¹³å‡æƒ…å†µä¸‹ï¼Œå“¨å…µåˆ’åˆ†çš„é€’å½’å±‚æ•°ä¸º $\log n$ ï¼Œæ¯å±‚ä¸­çš„æ€»å¾ªç¯æ•°ä¸º $n$ ï¼Œæ€»ä½“ä½¿ç”¨ $O(n \log n)$ æ—¶é—´ã€‚

  æœ€åï¼šO(n^2)

  â€‹	åœ¨æœ€å·®æƒ…å†µï¼ˆ**å½“æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ éƒ½ç›¸ç­‰ã€å·²æ­£åºã€å·²å€’åºæ—¶**ï¼‰ï¼Œæ¯è½®å“¨å…µåˆ’åˆ†æ“ä½œéƒ½å°†é•¿åº¦ä¸º $n$ çš„æ•°ç»„åˆ’åˆ†ä¸ºé•¿åº¦ä¸º $0$ å’Œ $n - 1$ çš„ä¸¤ä¸ªå­æ•°ç»„ï¼Œæ­¤æ—¶é€’å½’å±‚æ•°è¾¾åˆ° $n$ ï¼Œæ¯å±‚ä¸­çš„å¾ªç¯æ•°ä¸º $n$ ï¼Œæ€»ä½“ä½¿ç”¨ $O(n^2)$ æ—¶é—´ã€‚

- **ç©ºé—´å¤æ‚åº¦ä¸º $O(n)$ã€åŸåœ°æ’åº**ï¼šåœ¨æœ€å·®æƒ…å†µä¸‹ï¼Œè¾¾åˆ°æœ€å·®é€’å½’æ·±åº¦ $n$ ï¼Œä½¿ç”¨ $O(n)$ æ ˆå¸§ç©ºé—´ã€‚æ’åºæ“ä½œæ˜¯åœ¨åŸæ•°ç»„ä¸Šè¿›è¡Œçš„ï¼Œæœªå€ŸåŠ©é¢å¤–æ•°ç»„ã€‚

- **éç¨³å®šæ’åº**ï¼šåœ¨å“¨å…µåˆ’åˆ†çš„æœ€åä¸€æ­¥ï¼ŒåŸºå‡†æ•°å¯èƒ½ä¼šè¢«äº¤æ¢è‡³ç›¸ç­‰å…ƒç´ çš„å³ä¾§ã€‚

â€‹	441

```
441
4æ˜¯å“¨å…µ
[]41		æ‰¾åˆ°1
14[]		æ‰¾ä¸åˆ°å¤§äºçš„ï¼Œi==j
144			å¡«å……å“¨å…µï¼Œè¿™æ ·4çš„é¡ºåºå°±å€è°ƒæ¢äº†
```



## å…¶ä»–

### Lomuto

[ç®—æ³•å­¦ä¹ ä¹‹ï¼šLomuto åˆ†åŒºç®—æ³• + å¿«é€Ÿæ’åºç®—æ³•_lomutoç®—æ³•-CSDNåšå®¢](https://blog.csdn.net/qq_42902997/article/details/115773598)

### åŒè¾¹ j å…ˆ

* é€‰æ‹©æœ€å·¦ä¾§å…ƒç´ ä½œä¸ºåŸºå‡†ç‚¹
* j æ‰¾æ¯”åŸºå‡†ç‚¹**å°äºç­‰äº**çš„ï¼Œi æ‰¾æ¯”åŸºå‡†ç‚¹**å¤§äºçš„**ï¼Œä¸€æ—¦æ‰¾åˆ°ï¼ŒäºŒè€…è¿›è¡Œäº¤æ¢
  * i ä»å·¦å‘å³
  * j ä»å³å‘å·¦
* æœ€ååŸºå‡†ç‚¹ä¸ i äº¤æ¢ï¼Œj å³ä¸ºåŸºå‡†ç‚¹æœ€ç»ˆç´¢å¼•
```java
// åŒè¾¹ j å…ˆ
public int partition(int[] nums, int left, int right) {
    int pv = nums[left];
    int i = left;
    int j = right;
    while (i < j) {
        // jæ‰¾å°äºç­‰äºçš„
        while (i < j && nums[j] > pv) {
            j--;
        }
        // iæ‰¾å¤§äºçš„ï¼šä¸ç­‰äºæ˜¯å› ä¸ºä¸‹ä¸€swapåijä¸è‡ªå¢è‡ªå‡ï¼Œiç­‰äºçš„äº¤æ¢ç»™jï¼Œjç­‰äºå°±ä¸è¿›å…¥whileäº†ã€‚
        while (i < j && nums[i] <= pv) {
            i++;
        }
        swap(nums, i, j);
    }
    swap(nums, j, left);
    return j;
}
```

### åŒè¾¹ i å…ˆï¼šå”¯ä¸€èƒ½é€šè¿‡çš„912çš„

```java
// åŒè¾¹ i å…ˆ
public int partition(int[] nums, int left, int right) {
    int pv = nums[left];
    int i = left + 1;
    int j = right;
    while (i <= j) {
        while (i <= j && nums[i] < pv) {
            i++;
        }
        while (i <= j && nums[j] > pv) {
            j--;
        }
        if (i <= j) {
            swap(nums, i, j);
            i++;
            j--;
        }
    }
    swap(nums, j, left);
    return j;
}
```

### éšæœºå“¨å…µ

[ã€Œæ’åºç®—æ³•ã€å¿«é€Ÿæ’åº - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/circle/discuss/kiHnKs/)