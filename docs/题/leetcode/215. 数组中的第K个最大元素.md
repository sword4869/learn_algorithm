[toc]



å¤§é¡¶å †nï¼šå¼¹å‡ºK-1ä¸ªï¼Œå †é¡¶å°±æ˜¯ã€‚

å°é¡¶å †nï¼šå¼¹å‡º n-kä¸ªï¼Œå †é¡¶å°±æ˜¯

å°é¡¶å †kï¼šç»´æŒkä¸ªï¼Œæ›´æ–°æ›´å¤§çš„æŒ‡åˆ°å †é¡¶å¹¶ä¸‹æµ®ï¼Œé‚£ä¹ˆå †é¡¶å°±æ˜¯topKã€‚



## æ‰‹å¤§é¡¶å †n: å¼¹å‡ºk-1ä¸ª

å¼¹å‡ºk-1ä¸ª, å †é¡¶å³ä¸ºtopk

```java
// 215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ 
class Solution {
    public int findKthLargest(int[] nums, int k) {
        MaxHeap heap = new MaxHeap(nums);
        for (int i = 0; i < k - 1; i++) {
            heap.poll();
        }
        return heap.nums[0];
    }

    static class MaxHeap {
        public int[] nums;
        public int size;

        public MaxHeap(int[] nums) {
            this.nums = nums;
            this.size = nums.length;
            buildHeap();
        }

        public int poll() {
            int peek = nums[0];
            swap(0, size - 1);
            size--;
            down(0);
            return peek;
        }

        private void buildHeap() {
            for (int i = size / 2 - 1; i >= 0; i--) {
                down(i);
            }
        }

        private void down(int parent) {
            int left = 2 * parent + 1;
            int right = left + 1;
            int max = parent;
            if (left < size && nums[left] > nums[max]) {
                max = left;
            }
            if (right < size && nums[right] > nums[max]) {
                max = right;
            }
            if (max != parent) {
                swap(max, parent);
                down(max);
            }
        }

        private void swap(int i, int j) {
            int temp = nums[i];
            nums[i] = nums[j];
            nums[j] = temp;
        }
    }
}
```

## æ‰‹å°é¡¶å †nï¼šå¼¹å‡ºn-kä¸ª

```java
// 215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ 
class Solution {
    public int findKthLargest(int[] nums, int k) {
        MinHeap heap = new MinHeap(nums);
        for (int i = 0; i < nums.length - k; i++) {
            heap.poll();
        }
        return heap.nums[0];
    }

    static class MinHeap {
        public int[] nums;
        public int size;

        public MinHeap(int[] nums) {
            this.nums = nums;
            this.size = nums.length;
            buildMinHeap();
        }

        public int poll() {
            int peek = nums[0];
            swap(0, size - 1);
            size--;
            down(0);
            return peek;
        }

        private void buildMinHeap() {
            for (int i = size / 2 - 1; i >= 0; i--) {
                down(i);
            }
        }

        private void down(int parent) {
            int left = 2 * parent + 1;
            int right = left + 1;
            int min = parent;
            if (left < size && nums[left] < nums[min]) {
                min = left;
            }
            if (right < size && nums[right] < nums[min]) {
                min = right;
            }
            if (min != parent) {
                swap(min, parent);
                down(min);
            }
        }

        private void swap(int i, int j) {
            int temp = nums[i];
            nums[i] = nums[j];
            nums[j] = temp;
        }
    }
}
```

## ğŸš€æ‰‹å°é¡¶å †k: ä¸æ–­æ›´æ–°

æ—¶é—´å¤æ‚åº¦æ›´ä½ï¼šnlogk

- å…ˆå»ºç«‹kä¸ªå…ƒç´ çš„å°é¡¶å †ã€‚
- å †å¤§å°ä¸å˜
  - æˆ–ç›´æ¥å…¥å †ï¼Œç„¶åå¼¹å‡ºå †é¡¶ã€‚
  - ä¼˜åŒ–ï¼šæˆ–åé¢çš„å…ƒç´ ï¼Œå¦‚æœå¤§äºå †é¡¶ï¼Œæ‰æ›¿æ¢å †é¡¶é‡æ–°ä¸‹æ½œã€‚

- å †é¡¶å³topKã€‚

```java
// 215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ 
class Solution {
    public int findKthLargest(int[] nums, int k) {
        MinHeap heap = new MinHeap(nums, k);
        for(int i = k; i < nums.length; i++){
            if(nums[i] > heap.nums[0]){
                heap.nums[0] = nums[i];
                heap.down(0);
            }
        }
        return heap.nums[0];
    }

    static class MinHeap {
        public int[] nums;
        public int size;

        public MinHeap(int[] nums, int size) {
            this.nums = nums;
            this.size = size;
            buildMinHeap();
        }

        public int poll() {
            int peek = nums[0];
            swap(0, size - 1);
            size--;
            down(0);
            return peek;
        }

        private void buildMinHeap() {
            for (int i = size / 2 - 1; i >= 0; i--) {
                down(i);
            }
        }

        private void down(int parent) {
            int left = 2 * parent + 1;
            int right = left + 1;
            int min = parent;
            if (left < size && nums[left] < nums[min]) {
                min = left;
            }
            if (right < size && nums[right] < nums[min]) {
                min = right;
            }
            if (min != parent) {
                swap(min, parent);
                down(min);
            }
        }

        private void swap(int i, int j) {
            int temp = nums[i];
            nums[i] = nums[j];
            nums[j] = temp;
        }
    }
}
```

## PriorityQueue

```java
// æ‰‹å¤§é¡¶å †n: å¼¹å‡ºk-1ä¸ª
class Solution {
    public int findKthLargest(int[] nums, int k) {
        // å¤§é¡¶å †
        PriorityQueue<Integer> q = new PriorityQueue<>((a, b) -> b - a);
        for (int num : nums) {
            q.add(num);
        }
        for (int i = 0; i < k - 1; i++) {
            q.poll();
        }
        return q.peek();
    }
}
```

```java
// æ‰‹å°é¡¶å †n: å¼¹å‡º n-k ä¸ª
// 215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ 
class Solution {
    public int findKthLargest(int[] nums, int k) {
        PriorityQueue<Integer> q = new PriorityQueue<>();
        for (int num : nums) {
            q.add(num);
        }
        for (int i = 0; i < nums.length - k; i++) {
            q.poll();
        }
        return q.peek();
    }
}
```



```java
// åŒæ‰‹å°é¡¶å †k
// 215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ 
class Solution {
    public int findKthLargest(int[] nums, int k) {
        // é»˜è®¤å°±æ˜¯å°é¡¶å †
        PriorityQueue<Integer> q = new PriorityQueue<>();
        for(int i = 0 ; i < nums.length; i ++){
            q.add(nums[i]);
            if(q.size() > k){
                q.poll();
            }
        }
        return q.peek();
    }
}
```